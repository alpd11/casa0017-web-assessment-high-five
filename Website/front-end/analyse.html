<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyse</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playwrite+AU+SA:wght@100..400&display=swap" rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Papa Parse -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>

    <!-- Custom CSS -->
    <link href="./css/cover.css" rel="stylesheet">
    <link href="./css/layout.css" rel="stylesheet">
</head>

<body class="d-flex flex-column text-white bg-dark">
    <div class="container py-4">
        <!-- Header -->
        <header class="mb-auto">
            <div class="d-flex align-items-center justify-content-between border-bottom pb-2">
                <a class="bigheader" href="homepage.html">One Biker</a>
                <nav class="nav nav-masthead">
                    <a class="nav-link" href="homepage.html">Home</a>
                    <a class="nav-link" href=#>Analyse</a>
                    <a class="nav-link" href="about.html">About</a>
                </nav>
            </div>
            
        </header>
        <!-- Main Content -->
        <main class="px4">
            <!-- Real-time Map Section -->
            <section class="mb-5">
                <h2>Real-time Map</h2>
                <div id="map" style="height: 400px; width: 100%; border: 1px solid #ccc;">
                    <!-- Google Map will be initialized here -->
                </div>
            </section>

            <!-- Detail Information Section -->
            <section class="mb-5">
                <h2>Detail Information</h2>
                <!-- New -->
                <div class="row mb-3">
                    <div class="col-md-8 d-flex align-items-center">
                      <label for="detailDatePicker" class="me-2">Select Date:</label>
                      <input type="date" id="detailDatePicker" class="form-control me-2">
                      <button id="updateDetailBtn" class="btn btn-primary">Update</button>
                    </div>
                  </div>

                <div class="row">
                    <div class="col-md-4">
                        <p><strong>Weather:</strong> <span id="weather">N/A</span></p>
                        <p><strong>Temperature:</strong> <span id="temperature">N/A</span></p>
                        <p><strong>Wind Speed:</strong> <span id="windSpeed">N/A</span></p>
                    </div>
                    <div class="col-md-4">
                        <p><strong>Number of collisions:</strong> <span id="bikeCount">N/A</span></p>
                    </div>
                </div>
            </section>

            <!-- Chart Section -->
            <section class="mb-5">
                <h2>Weather Impact Analysis</h2>
                <div class="row">
                    <div class="col-md-8">
                        <canvas id="myChart" width="400" height="200"></canvas>
                    </div>
                    <div class="col-md-4">
                        <div class="datepicker">
                            <label for="startPicker11">Start Date:</label>
                            <input type="date" id="startPicker11" class="form-control mb-3" value="2013-01-01">

                            <label for="endPicker22">End Date:</label>
                            <input type="date" id="endPicker22" class="form-control mb-3" value="2013-01-31">

                            <button id="updateChartBtn" class="btn btn-primary">Update Chart</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Cycling Suggestion Section -->
            <section>
                <h2>Cycling Suggestion</h2>
                <p>
                    Our project analyzes how weather conditions impact bicycle traffic trends across the UK. Using data
                    from various reliable sources, this platform offers insights into the relationships between weather
                    factors and cycling behavior, providing valuable information for urban planning and public health.
                </p>
            </section>
        </main>

        <!-- Footer -->
        <footer class="mt-auto border-top pt-3">
            <div class="d-flex justify-content-between align-items-center">
                <span class="text-muted">&copy; 2025 One Biker. All rights reserved.</span>
                <ul class="list-unstyled d-flex">
                    <li class="ms-3"><a class="text-muted" href="https://tfl.gov.uk/modes/cycling/routes-and-maps">TfL</a></li>
                    <li class="ms-3"><a class="text-muted" href="https://www.sustrans.org.uk/national-cycle-network/">Sustrans</a></li>
                    <li class="ms-3"><a class="text-muted" href="https://map.bikecitizens.net/gb-london">Bike Citizens</a></li>
                </ul>
            </div>
        </footer>
    </div>

    <!-- Google Maps API -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"></script>

    <!-- Custom JavaScript -->
    <script src="./js/map.js"></script>
    <script src="./js/chart.js"></script>
    <!-- New -->
    <script src="./js/detailInfo.js"></script>
</body>

</html>